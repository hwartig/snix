<html>
<head>
  <title></title>
  <script type="text/javascript" src="vendor/jquery-1.7.1.min.js"></script>  
  <script type="text/javascript" src="vendor/underscore.js"></script>
  <script type="text/javascript" src="vendor/moment.min.js"></script>
  <!--[if lt IE 9]>
    <script type="text/javascript" src="vendor/json2.js"></script>
  <![endif]-->
  <script type="text/javascript" src="lib/snix.js"></script>
  <script type="text/javascript">
    var s = Snix;

    var app = new function(){
      this.name = s.val("joe");
      this.todos = s.array([
        {id: _.uniqueId(), prio: s.val("high 1")},
        {id: _.uniqueId(), prio: s.val("high 2")},
        {id: _.uniqueId(), prio: s.val("high 3")}
      ]);
      this.selectedTodos = s.array();
      this.selectedTodo = s.val(null);
      this.today = s.val(moment());
    };

    $(function(){
      s.Binding.binden(app, $("body")[0]);
    });
  </script>
</head>
<body>

  <span data-bind="text: @name"></span>
  <input type="text" data-bind="value: @name"/>
  <a href="#" data-bind="click: @todos.add({id: _.uniqueId(), prio: s.val('bllll')})">create</a>

  <ul data-bind="loop: {entries: @todos, as: 'todo'}">
    <li>
      <span data-bind="text: todo.name"></span>
      <input type="text" data-bind="value: @name"/>
      <span data-bind="text: todo.prio"></span>
      <input type="text" data-bind="value: todo.prio"/>
      <a href="#" data-bind="click: @todos.remove(todo)">delete</a>
    </li>
  </ul>

  <select data-bind="select: {entries: @todos, label: 'prio', selected: @selectedTodos, multiple: true}" size="6"></select>
  <select data-bind="select: {entries: @todos, label: 'prio', selected: @selectedTodo}"></select>


  <h3>selectedTodos</h3>
  <ul data-bind="loop: {entries: @selectedTodos, as: 'todo'}">
    <li>
      <span data-bind="text: todo.name"></span>
      <input type="text" data-bind="value: @name"/>
      <span data-bind="text: todo.prio"></span>
      <input type="text" data-bind="value: todo.prio"/>
      <a href="#" data-bind="click: @todos.remove(todo)">delete</a>
    </li>
  </ul>

  <!--div data-bind="date: {moment: @today}"></div-->

</body>
</html>